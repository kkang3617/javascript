<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h2>할 일 목록 만들기</h2>

    <div class="name-form">
        <h3 class="name-title"></h3>
        <input type="text" placeholder="이름을 입력하세요" class="name-input">
        <button class="btn1">확인</button>
    </div>

    <div class="todo-form">
        <input type="text" placeholder="당신의 할 일을 적으세요." class="todo-input">
        <button class="btn2">확인</button>
    </div>

    <ul class="todo-list">

    </ul>

    <script>
        //1. 입력받은 이름값을 h3에 띄워주세요.
        //이름이 입력되었다면 이름 입력창을 숨겨주세요.
        const $nameInput = document.querySelector('.name-input');
        const $btn1 = document.querySelector('.btn1');
        const $title = document.querySelector('.name-title');

        $btn1.addEventListener('click', () =>{
            console.log($nameInput.value);
            if($nameInput.value === '') {
                alert('이름을 입력하세요');
                return;
            }
            $nameInput.style.display = 'none';    //입력창 안보이게
            $btn1.style.display = 'none';         //버튼 안보이게
            $title.textContent = `${$nameInput.value} 님 안녕하세요!`;
        });

        //2. 할일을 입력받아서 li요소로 추가해 주세요.
        //그 후 입력창은 비워주세요.
        
        const $todoList = document.querySelector('.todo-list');
        const $todoInput = document.querySelector('.todo-input');
        const $btn2 = document.querySelector('.btn2');

        $btn2.addEventListener('click', () => {
            if($todoInput.value === '') {
                alert('할 일을 작성해주세요');
                return;
            }
            
            const $newLi = document.createElement('li');  // 입력한 li요소 추가
            $newLi.textContent = $todoInput.value;
            $todoList.appendChild($newLi); //todo리스트 마지막에 새로운li요소를 추가.
            $todoInput.value = '';  // 입력창 비워주기

        //3. 할일이 추가되면 X버튼이 같이 생성됩니다.
        //X버튼을 클릭했다면 해당 할 일을 지워주세요.
        //(X버튼 누를 시 이벤트 발생 -> X버튼을 품고 있는 부모 노드를 삭제)
            const $newbtn = document.createElement('button'); // button 요소추가
            $newbtn.textContent = 'X';
            $newLi.appendChild($newbtn); //li마지막에 button 요소를 추가하겠다.

            $newbtn.addEventListener('click', () => { //새로운 버튼x 가 클릭되면
                $newLi.remove();   // 이벤트가 발생된 해당 요소 li 가 제거된다.
            });

        });
    </script>

</body>
</html>